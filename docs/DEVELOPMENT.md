# å¼€å‘æŒ‡å—

æœ¬æ–‡æ¡£ä»‹ç»äº†å¦‚ä½•è®¾ç½®å¼€å‘ç¯å¢ƒã€é¡¹ç›®ç»“æ„å’Œå¼€å‘æµç¨‹ã€‚

## ğŸ› ï¸ å¼€å‘ç¯å¢ƒè®¾ç½®

### æœ¬åœ°å¼€å‘

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/your-username/random-image-api.git
cd random-image-api

# å®‰è£…ä¾èµ–
npm install

# å¤åˆ¶ç¯å¢ƒé…ç½®
cp .env.example .env
# ç¼–è¾‘ .env æ–‡ä»¶ï¼Œè®¾ç½®æ‚¨çš„é…ç½®

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev
```

### Dockerå¼€å‘

```bash
# ä½¿ç”¨Dockerè¿›è¡Œå¼€å‘
docker-compose -f docker-compose.dev.yml up --build
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
random-image-api/
â”œâ”€â”€ config/           # æ•°æ®åº“é…ç½®æ–‡ä»¶
â”œâ”€â”€ public/           # é™æ€èµ„æºæ–‡ä»¶
â”‚   â”œâ”€â”€ uploads/      # ä¸Šä¼ çš„å›¾ç‰‡æ–‡ä»¶
â”‚   â””â”€â”€ admin/        # åå°ç®¡ç†ç•Œé¢
â”œâ”€â”€ src/              # æºä»£ç ç›®å½•
â”‚   â”œâ”€â”€ routes/       # è·¯ç”±å¤„ç†
â”‚   â”œâ”€â”€ models/       # æ•°æ®æ¨¡å‹
â”‚   â”œâ”€â”€ middleware/   # ä¸­é—´ä»¶
â”‚   â””â”€â”€ utils/        # å·¥å…·å‡½æ•°
â”œâ”€â”€ docs/             # æ–‡æ¡£
â”œâ”€â”€ logs/             # æ—¥å¿—æ–‡ä»¶
â”œâ”€â”€ tests/            # æµ‹è¯•æ–‡ä»¶
â”œâ”€â”€ .env              # ç¯å¢ƒé…ç½®æ–‡ä»¶
â”œâ”€â”€ Dockerfile        # Dockeré…ç½®
â””â”€â”€ docker-compose.yml # Dockerç¼–æ’é…ç½®
```

## ğŸ§ª æµ‹è¯•

### å•å…ƒæµ‹è¯•

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
npm test

# è¿è¡Œç‰¹å®šæµ‹è¯•æ–‡ä»¶
npm test -- tests/routes/api.test.js
```

### APIæµ‹è¯•

ä½¿ç”¨Postmanæˆ–curlæµ‹è¯•APIç«¯ç‚¹ï¼š

```bash
# è·å–éšæœºå›¾ç‰‡
curl http://localhost:3001/api/random

# è·å–ç‰¹å®šåˆ†ç±»çš„å›¾ç‰‡
curl http://localhost:3001/api/random?category=landscape
```

## ğŸ“¦ ä¾èµ–ç®¡ç†

### æ·»åŠ æ–°ä¾èµ–

```bash
# æ·»åŠ ç”Ÿäº§ä¾èµ–
npm install package-name --save

# æ·»åŠ å¼€å‘ä¾èµ–
npm install package-name --save-dev
```

### æ›´æ–°ä¾èµ–

```bash
# æ£€æŸ¥è¿‡æ—¶çš„ä¾èµ–
npm outdated

# æ›´æ–°æ‰€æœ‰ä¾èµ–
npm update
```

## ğŸ³ Dockerå¼€å‘å·¥ä½œæµ

1. ä¿®æ”¹ä»£ç 
2. Dockerå®¹å™¨ä¼šè‡ªåŠ¨é‡å¯å¹¶åº”ç”¨æ›´æ”¹
3. åœ¨`logs/`ç›®å½•ä¸­æŸ¥çœ‹æ—¥å¿—
4. ä½¿ç”¨`docker-compose logs`æŸ¥çœ‹å®¹å™¨æ—¥å¿—

## ğŸ›¡ï¸ å®‰å…¨å¼€å‘å®è·µ

1. ä¸è¦åœ¨ä»£ç ä¸­ç¡¬ç¼–ç æ•æ„Ÿä¿¡æ¯
2. ä½¿ç”¨ç¯å¢ƒå˜é‡å­˜å‚¨å¯†é’¥å’Œå¯†ç 
3. å®šæœŸæ›´æ–°ä¾èµ–åŒ…
4. éªŒè¯æ‰€æœ‰ç”¨æˆ·è¾“å…¥
5. ä½¿ç”¨HTTPSè¿›è¡Œç”Ÿäº§éƒ¨ç½²

## ğŸ“ ä»£ç è§„èŒƒ

- ä½¿ç”¨ESLintè¿›è¡Œä»£ç æ£€æŸ¥
- éµå¾ªJavaScript Standard Style
- æ·»åŠ é€‚å½“çš„æ³¨é‡Šå’Œæ–‡æ¡£
- ç¼–å†™å•å…ƒæµ‹è¯•è¦†ç›–å…³é”®åŠŸèƒ½

## ğŸš€ éƒ¨ç½²

### ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

```bash
# æ„å»ºå¹¶å¯åŠ¨ç”Ÿäº§ç¯å¢ƒ
docker-compose up -d

# æŸ¥çœ‹è¿è¡ŒçŠ¶æ€
docker-compose ps

# æŸ¥çœ‹æ—¥å¿—
docker-compose logs -f
```

### ç¯å¢ƒå˜é‡é…ç½®

ç¡®ä¿åœ¨ç”Ÿäº§ç¯å¢ƒä¸­è®¾ç½®ä»¥ä¸‹å…³é”®å˜é‡ï¼š
- `SESSION_SECRET` - å®‰å…¨çš„ä¼šè¯å¯†é’¥
- `NODE_ENV` - è®¾ç½®ä¸ºproduction
- `DB_PATH` - æ•°æ®åº“æ–‡ä»¶è·¯å¾„